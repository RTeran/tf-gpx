# tf-gpx
Bookmarklet that exports GPX files of trails and routes from Trailforks

## Install
In your web browser, create a new Bookmark called "Trailforks Export" and paste the contents of [`trailforks-export.bookmarklet`](https://github.com/cosmocatalano/tf-gpx/blob/main/trailforks-export.bookmarklet) into its URL field. For ease of use, save this bookmarklet in your Bookmarks Bar.

## Use
Go to [Trailforks.com](https://trailforks.com) and find a route or trail page ([example](https://www.trailforks.com/trails/northern-loop-149878/map)). Click the bookmark you created during [Install](#install). A GPX file containing a track of this route or trail should begin downloading.

## Caveats 
This software is a quick stopgap for your own personal trail routing needs. Trailforks' built-in GPX downloads are _substantially_ better quality (see [Details](#details) below). If you find yourself using this bookmarklet frequently, you should invest in a [Trailforks Pro](https://www.trailforks.com/pro/) membership.

**Do not rely exclusively on GPX tracks generated by this software for navigation. They're a rough outline at best, and may omit dangerous features, lead you onto private property, indicate intersctions that don't exist, etc.** 


## Details
This software converts the [polyline](https://developers.google.com/maps/documentation/utilities/polylinealgorithm) from a Trailforks map into a GPX file with the [Mapbox JS implementation](https://github.com/mapbox/polyline) they employ on their page.

Polylines are a great way to deliver visual info in an extremely compact package, but they are not particularly data-rich. As an example, [this multi-hour Mountain Bike loop](https://www.trailforks.com/route/flash-of-gold-to-grouse/map/) contains about 1440 individual points when exported from a polyline using this software. My own [GPS recording of a nearly indentical route](https://www.strava.com/activities/1645643527) has more than 13,000.

## Logged-in Users
When logged-in as a Trailforks user, some pages that would normally display an interactve map will display a static image instead. You'll need to go to the specific Map page for a given trail/route to export. This software attempts to catch this gotcha and redirect you there via popup.

